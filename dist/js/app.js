"use strict";!function(){var t="";data.forEach(function(e){e.hasNavAnchor&&(t+='<li class="nav__item">\n        <a class="nav__link '+e.anchor+'" href="#'+e.anchor+'">'+e.title+"</a>\n      </li>")});var e='\n  <nav class="nav">\n    <ul class="nav__list">\n      '+t+"\n    </ul>\n  </nav>\n  ";document.querySelector(".navigation_wrapper").innerHTML=e;var a="";data.forEach(function(e){a+='<div id="'+e.anchor+'" class="block '+(e.className?e.className:"")+'">\n      <div class="category '+(e.hasHeader?"":"isHidden")+'">\n        <span class="section-title">\n          '+e.title+'\n        </span>\n      </div>\n      <div class="intro container">'+e.intro+"</div>\n  ",e.releases&&e.releases.forEach(function(e){a+='<div class="track">\n        <div class="container">\n          <div class="youtube video" data-embed="'+e.id+'">\n            <div class="play-button"></div>\n          </div>\n          <div class="description">\n            <div class="info">\n              <div>\n                <div><span>Artist:</span> '+e.artist+"</div>\n                <div><span> Album:</span> "+e.album+"</div>\n                <div><span>Release:</span> "+e.date+"</div>\n                "+(e.instagram&&'<span>Instagram: </span><a class="link" href="'+e.instagram+'" target="_blank">Link</a>')+'\n              </div>\n              <img\n                src="'+e.cover+'"\n                class="cover"\n              />\n            </div>\n\n            <div class="trackTitle">'+e.track+"</div>\n            <p>"+e.description+"</p>\n          </div>\n        </div>\n      </div>"}),a+="</div>"}),document.querySelector(".content").innerHTML=a;var i=[];!function(){for(var a=document.querySelectorAll(".youtube"),e=function(n){var e="https://img.youtube.com/vi/"+a[n].dataset.embed+"/sddefault.jpg",t=new Image;t.src=e,t.addEventListener("load",void a[n].appendChild(t)),t.classList.add("thumbnail"),a[n].addEventListener("click",function(){var e=document.createElement("iframe");e.classList.add("iframe");var t="player"+n;document.querySelector(".video iframe")&&Object.values(document.querySelectorAll(".video iframe")).forEach(function(e){e.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}),e.setAttribute("id",t),e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen",""),e.setAttribute("src","https://www.youtube.com/embed/"+this.dataset.embed+"?rel=0&showinfo=0&autoplay=1&enablejsapi=1"),this.innerHTML="",this.appendChild(e);var a=new YT.Player(e.getAttribute("id"),{events:{onStateChange:r}});i.push(a)})},t=0;t<a.length;t++)e(t)}();var n=document.querySelector(".playing_track"),s="";function r(e){if(e.data==YT.PlayerState.PLAYING)for(var t=e.target.a.src,a=0;a<i.length;a++)i[a].a.src!=t?(i[a].pauseVideo(),s=i[a]):(s=i[a],n.innerHTML=i[a].getVideoData().title,n.classList.remove("isStop"),n.classList.add("isPlayingTrackShown"));e.data==YT.PlayerState.PAUSED&&n.classList.add("isStop")}var o=!0;document.querySelector(".header").onclick=function(e){e.target.classList.contains("isPlayingTrackShown")&&(o?s.pauseVideo():s.playVideo(),e.target.classList.toggle("isStop"),o=!o)},document.querySelector(".navigation_wrapper").onclick=function(e){if(e.target.classList.contains("nav__link")){e.preventDefault();var t=e.target.getAttribute("href");document.querySelector(""+t).scrollIntoView({behavior:"smooth",block:"start"})}};var c=document.querySelector(".trackList"),l=document.querySelector(".track_list"),d=document.querySelector(".track_list__show_button"),u=document.querySelector(".track_list__youtube"),v=document.querySelector(".track_list__spotify"),m=function(){"true"===localStorage.getItem("isTrackListShown")&&(u.innerHTML='<iframe width="100%" height="500" src="https://www.youtube.com/embed/videoseries?list=PLx_GCmLuHXJnTWJtlmykgRhiFRoohq8dy" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>',v.innerHTML='<iframe src="https://open.spotify.com/embed/user/artem_drei/playlist/1XsovXDTtikBn5NnjKG19s" width="300" height="380" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>',l.classList.add("isShownTrackList"),c.classList.add("isShown"))};m(),d.onclick=function(){localStorage.setItem("isTrackListShown",!0),m()};var p=document.querySelector(".burger"),g=document.querySelector(".navigation_wrapper");p.onclick=function(e){e.target.closest(".burger").classList.toggle("isArrow"),g.classList.toggle("isNavigationOpen")};var f=function(){p.classList.remove("isArrow"),g.classList.remove("isNavigationOpen")};window.onkeyup=function(e){console.log(e.keyCode),27===e.keyCode&&f()},window.onclick=function(e){g.classList.contains("isNavigationOpen")&&e.target.closest(".container")&&f()}}();